<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>电子点名</title>
    <link rel="shortcut icon" href="../../common/img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="../../common/css/reset.css">
    <link rel="stylesheet" href="../../common/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../common/plugins/bootstrap-table/bootstrap-table.min.css">
    <link rel="stylesheet" href="../../common/plugins/element-ui/element-ui/lib/theme-default/index.css">
    <link rel="stylesheet" href="index.css">
    <script src="../../common/js/moment.js"></script>
    <script type="text/javascript" src="../../common/bin/super.common.min.js" ></script>
    <script type="text/javascript" src="../../common/plugins/vue-qrcode/docs/js/vue-qrcode.js"></script>
    <script type="text/javascript" src="../../common/js/comm.js" ></script>
    <script type="text/javascript" src="../../common/js/session-check.js" ></script>
    <script>
        /**
         * 全局变量
         */
        var util = UBIT;
        var ME = {
            //访问路径
            baseUrl : '/',
            selfHost: UBIT.selfHost,
            //请求的服务器地址
            host: UBIT.host,
            imgHost: UBIT.imgHost,
            iconPath: UBIT.iconPath,
            user: UBIT.user,
            api_token: UBIT.api_token,
            vm: null,
            tags:{}
        };

    </script>
</head>
<body>
    <div id="app" >
        <div id="projectAttendencetoolbar" >
            <el-button @click="add" size="small" type="primary">添加</el-button>
            <el-button type="warning"  size="small"  @click="update" >修改</el-button>
            <el-button @click="remove" size="small" type="danger">删除</el-button>
        </div>
        <table id="attendence"></table>
        <el-dialog :title='title' :visible.sync="dialogVisible" width="60%">
            <el-row >
                <el-col :span=6>
                    <div class='row-label'>选择地图</div>
                </el-col>
                <el-col :span=16 :offset=2>
                    <el-select filterable v-model='mapId' @change='selectMap'>
                        <el-option v-for='(item,index) in maps' :key='index' :label='item.cname' :value='item.id'></el-option>
                    </el-select>
                </el-col>
            </el-row>
            <el-row class='margin-top'>
                <el-col :span=6>
                    <div class='row-label'>选择区域</div>
                </el-col>
                <el-col :span=16 :offset=2>
                    <el-select v-model='fenceId'>
                        <el-option v-for='(item,index) in fences' :key='index' :label='item.cname' :value='item.id'></el-option>
                    </el-select>
                </el-col>
            </el-row>
            <el-row class='margin-top'>
                <el-col :span=6>
                    <div class='row-label'>选择标签分组</div>
                </el-col>
                <el-col :span=16 :offset=2>
                    <el-select v-model='tagCat' filterable multiple>
                        <el-option v-for='(item,index) in tagTypes' :key='index' :label='item.cname' :value='item.id'></el-option>
                    </el-select>
                </el-col>
            </el-row>
            <el-row class='margin-top'>
                <el-col :span=6 :offset=5>
                    <el-button class='btn' type='primary' @click='commit'>{{title}}</el-button>
                </el-col>
                <el-col :span=6 :offset=2>
                    <el-button type='info' class='btn'>取消</el-button>
                </el-col>
            </el-row>
        </el-dialog>
    </div>
    <footer>
        <script type="text/javascript" src="index.js"></script>
    </footer>
</body>
</html>